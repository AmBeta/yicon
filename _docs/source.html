<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
  <meta name="format-detection" content="telephone=no,email=no" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge, chrome=1">
  <meta name="description" content="description of your site">
  <meta name="author" content="author of the site">
  <title>YIcon source 接口</title>
  <link rel="stylesheet" href="source/main.css"/>
  
  
    
        <link rel="stylesheet" href="./theme/yicon.css"/>
    
  
</head>
<body class=source >
    <div class="ydoc">
      <header class="ydoc-header">
        <div class="ydoc-header-area">
            
            <a href="http://ymfe.tech/" class="navbar-brand">YMFE</a>
            
            <button class="ydocIcon navbar-toggle">&#xf020;</button>
            <nav class="ydoc-nav">
              <ul class="navbar-left">
                
                    
                    <li class="">
                        
                        <a href="index.html">YIcon</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="introduction.html">简介</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="build.html">如何部署</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="update.html">如何升级</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="usage.html">使用说明</a>
                        
                    </li>
                    
                    <li class="active">
                        
                        <a href="source.html">source 接口</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="releases.html">版本</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="https://github.com/YMFE/yicon" target="_blank">Github</a>
                        
                    </li>
                    
                
              </ul>
            </nav>
        </div>
    </header>
    
    <!-- <header style="height:20px"></header> -->
    
      <!-- Docs page layout -->
      
      <div class="ydoc-banner-bg">
          <div class="ydoc-banner">
              <div class="ydoc-banner-area">
                  <h1>source 接口文档</h1>
                  <p class="desc">source 服务接口文档，方便接入方根据文档自行实现 source 上传服务</p>
              </div>
          </div>
      

      <div class="ydoc-container">
        
          
          <div class="ydoc-container-content" id="readme">
              <article class="markdown-body">
                  
                  <h2 class="subject" id="查询项目的 source 信息">查询项目的 source 信息 <a class="hashlink" href="#查询项目的 source 信息">#</a></h2><p><strong>GET</strong> <code>/upload/project/:project/user/:user</code></p>
<pre><code class="lang-json"><span class="token punctuation">{</span>
    <span class="token property">"ret"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"data"</span><span class="token operator">:</span> <span class="token string">"success"</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 class="subject" id="查询对应项目在 source 中的最高版本">查询对应项目在 source 中的最高版本 <a class="hashlink" href="#查询对应项目在 source 中的最高版本">#</a></h2><p><strong>GET</strong> <code>/upload/version/project/:project/branch/:branch/path/:path</code></p>
<pre><code class="lang-json"><span class="token punctuation">{</span>
    <span class="token property">"ret"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 class="subject" id="上传图标到 source">上传图标到 source <a class="hashlink" href="#上传图标到 source">#</a></h2><p><strong>POST</strong> <code>/upload/project</code></p>
<ul>
<li><p>req:</p>
<pre><code class="lang-json"><span class="token punctuation">{</span>
    <span class="token property">"username"</span><span class="token operator">:</span> <span class="token string">"changquan.fang"</span><span class="token punctuation">,</span>
    <span class="token property">"project"</span><span class="token operator">:</span> <span class="token string">"demo"</span><span class="token punctuation">,</span>
    <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"fonts/"</span><span class="token punctuation">,</span>
    <span class="token property">"branch"</span><span class="token operator">:</span> <span class="token string">"master"</span><span class="token punctuation">,</span>
    <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"0.1.11"</span>
<span class="token punctuation">}</span>
</code></pre>
</li><li><p>res:</p>
<pre><code class="lang-json"><span class="token punctuation">{</span>
    <span class="token property">"ret"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"sourceUrl"</span><span class="token operator">:</span> <span class="token string">"xxx/xxx/fonts/"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
sourceUrl 表述上传 source 后生成的路径信息
</code></pre>
</li></ul>

              </article>
          </div>
          
        
      </div>
     
     </div>
     
      <footer class="footer">
        <div class="copyright">
            © 2017 <a href='http://ued.qunar.com/ymfe/' target='_blank'>YMFE</a> Team. Build by <a href='https://github.com/YMFE/ydoc' target='_blank'>ydoc</a>.
        </div>
      </footer>
    </div>

    
    

    <script src="source/main.js"></script>
    <script src="source/app.js"></script>
    
    

    

    
    

</body>
</html>
